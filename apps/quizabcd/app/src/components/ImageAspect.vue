<template>
  <div class="imgcontainer" :style="'padding-top: ' + ratioPercent + '%;'">
    <div><img :src="placeholderSvgData" alt="Ładowanie" /></div>
    <div><img :src="src" :alt="alt" /></div>
  </div>
</template>
<script lang="ts">
import { Component, Prop, Vue } from 'vue-property-decorator'

@Component
export default class ImageAspect extends Vue {
  @Prop()
  public ratio!: number

  @Prop()
  public src!: string

  @Prop()
  public alt!: string

  get ratioPercent(): number {
    return this.ratio * 100
  }

  get placeholderSvg(): string {
    return `<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 400 400" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(0.0932852,0,0,0.0932852,164.738,44.1143)">
        <path d="M381.881,1302.86C379.355,1302.93 377.023,1302.85 375.037,1302.42C365.947,1300.5 357.181,1297.26 348.363,1294.33C337.451,1290.71 321.504,1285.31 309.565,1280.69C298.457,1276.39 287.484,1271.72 276.728,1266.6C264.722,1260.88 250.47,1253.38 237.526,1246.41C224.088,1239.18 209.738,1231.25 196.101,1223.22C179.649,1213.54 155.906,1200.46 138.814,1188.31C122.757,1176.89 107.194,1164.51 93.549,1150.3C79.64,1135.81 66.484,1118.82 55.357,1101.38C43.62,1082.98 32.102,1060.88 23.127,1039.91C14.221,1019.1 6.001,995.989 1.505,975.53C-2.689,956.445 -4.221,936.506 -3.85,917.153C-3.48,897.8 0.606,876.628 3.728,859.412C6.517,844.029 10.739,828.556 14.882,813.855C18.932,799.484 25.164,785.744 28.583,771.21C32.062,756.418 35.411,740.656 35.756,725.108C36.127,708.437 33.635,687.811 30.806,671.186C28.156,655.617 24.538,640.064 18.782,625.357C11.558,606.899 -1.796,581.15 -12.539,560.433C-22.974,540.311 -33.756,520.333 -45.679,501.056C-62.636,473.64 -112.144,410.232 -114.283,395.94C-116.421,381.649 -76.039,406.361 -58.511,415.308C-30.305,429.706 21.83,463.289 54.953,482.324C83.121,498.511 110.496,516.422 140.228,529.517C179.043,546.612 250.425,570.345 287.842,584.893C313.706,594.95 339.466,605.332 364.731,616.81C392.853,629.586 431.028,647.696 456.573,661.548C477.797,673.056 498.486,685.708 518.003,699.92C538.733,715.015 564.413,735.701 580.949,752.114C594.861,765.922 606.882,783.212 617.221,798.398C626.921,812.644 637.132,827.016 642.985,843.226C649.738,861.928 656.036,889.283 657.737,910.606C659.346,930.785 656.946,951.273 653.19,971.165C648.071,998.278 636.618,1039.48 627.022,1073.28C614.493,1117.41 590.783,1190.41 578.019,1235.95C567.767,1272.53 557.34,1314.95 550.436,1346.53C544.732,1372.63 541.441,1399.19 536.594,1425.46C530.397,1459.04 520.176,1507.49 513.255,1548.03C506.409,1588.13 501.854,1651.62 495.068,1668.7C491.504,1677.67 477.365,1658.87 472.537,1650.51C464.622,1636.81 453.806,1608.54 447.581,1586.5C440.188,1560.32 432.613,1524.84 428.182,1493.47C423.214,1458.32 420.116,1406.41 417.775,1375.54C416.077,1353.14 421.261,1320.43 414.138,1308.25C413.505,1307.17 412.739,1306.26 411.86,1305.5C411.66,1293.81 411.257,1281.53 411.381,1272.22C411.713,1247.36 411.837,1219.36 410.868,1192.96C409.801,1163.86 409.11,1129.16 404.977,1097.59C400.384,1062.51 391.882,1019.06 383.315,982.468C375.063,947.218 366.807,910.809 353.579,878.055C351.406,872.675 349.018,867.212 346.471,861.726C356.703,858.73 367.315,856.37 375.875,853.801C385.983,850.768 398.426,847.042 406.037,844.179C411.418,842.156 420.902,839.677 421.543,836.629C422.184,833.58 413.886,829.337 409.882,825.889C405.165,821.828 397.519,816.34 393.244,812.262C389.843,809.019 386.794,804.313 384.23,801.423C382.216,799.153 380.856,794.462 377.857,794.923C373.131,795.651 363.207,802.179 355.873,805.788C349.073,809.134 337.532,814.733 325.117,820.777C317.775,807.929 310.411,795.985 303.949,785.94C291.38,766.404 276.151,748.568 259.76,732.226C238.777,711.307 178.054,660.423 178.054,660.423C178.054,660.423 189.882,677.095 194.95,685.97C201.881,698.11 212.135,717.126 219.643,733.258C231.642,759.039 256.524,812.056 271.133,847.754C266.559,850.399 262.139,853.325 258.005,856.599C244.11,867.601 193.416,910.672 193.416,910.672C193.416,910.672 216.361,909.089 227.454,906.294C242.38,902.535 267.319,894.545 285.144,887.939C289.991,905.052 293.848,922.501 298.057,939.783C305.133,968.835 312.289,1003.1 318.678,1034.91C327.097,1076.83 341.455,1154.87 348.571,1191.29C352.627,1212.06 356.102,1235.39 361.373,1253.46C366.037,1269.44 372.352,1285.03 380.196,1299.67C380.726,1300.66 381.29,1301.73 381.881,1302.86ZM597.548,1568.32C594.281,1560.52 589.908,1544.04 588.855,1531.46C587.41,1514.19 585.631,1486.7 588.878,1464.68C594.533,1426.33 596.197,1350.2 622.786,1301.37C650.808,1249.91 713.536,1200.26 757.01,1155.91C797.819,1114.28 862.31,1050.32 883.629,1035.27C891.897,1029.43 885.921,1055.53 884.925,1065.61C880.949,1105.83 871.212,1220.64 859.774,1276.63C850.95,1319.83 832.679,1371.62 816.3,1401.56C803.914,1424.19 781.883,1440.41 761.504,1456.24C734.049,1477.56 677.074,1509.17 651.566,1529.51C634.603,1543.04 617.459,1571.81 608.456,1578.28C604.459,1581.15 599.449,1572.86 597.548,1568.32ZM388.75,1476.13C389.565,1476.05 387.604,1474.93 387.229,1474.2C382.297,1464.63 369.825,1436.47 359.157,1418.69C345.382,1395.74 326.668,1359.64 304.577,1336.45C282.486,1313.26 256.008,1292.62 226.609,1279.55C189.835,1263.2 128.357,1248.62 83.932,1238.35C43.161,1228.93 -4.508,1227.45 -39.938,1217.95C-70.834,1209.67 -116.961,1181.61 -128.649,1181.36C-140.337,1181.11 -117.767,1205.69 -110.066,1216.45C-96.434,1235.52 -64.521,1271.4 -46.852,1295.73C-31.329,1317.11 -16.4,1339.08 -4.053,1362.44C11.216,1391.32 28.018,1443.75 44.762,1469.04C57.384,1488.1 74.826,1506.63 96.412,1514.15C121.65,1522.94 163.182,1526.63 196.186,1521.81C235.656,1516.03 301.134,1487.1 333.228,1479.49C351.269,1475.21 379.75,1477.01 388.75,1476.13Z" style="fill:rgb(58,206,0);"/>
    </g>
    <g transform="matrix(1,0,0,1,-27.5106,10.586)">
        <text x="135.456px" y="238.006px" style="font-family:'Lato-Regular', 'Lato', sans-serif;font-size:16px;fill:rgb(255,248,240);fill-opacity:0.5;">Ł<tspan x="151.344px 169.424px 188.672px 208.64px 231.392px 249.472px 268.768px 280.88px 297.376px 307.968px 318.56px " y="238.006px 238.006px 238.006px 238.006px 238.006px 238.006px 238.006px 238.006px 238.006px 238.006px 238.006px ">ADOWANIE...</tspan></text>
    </g>
</svg>

`
  }

  get placeholderSvgData(): string {
    return 'data:image/svg+xml;utf8,' + this.placeholderSvg
  }
}
</script>
<style scoped>
.imgcontainer {
  display: block;
  position: relative;
}

.imgcontainer > div {
  display: flex;
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  align-items: center;
  justify-content: center;
}

.imgcontainer > div > img {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translateX(-50%) translateY(-50%);
  max-width: 100%;
  max-height: 100%;
}
</style>
